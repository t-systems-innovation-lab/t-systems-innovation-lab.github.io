{"version":3,"file":"scale-chart-stack-card.entry.fd14c3ed.js","sources":["../../node_modules/@telekom/scale-components/dist/esm/scale-chart-stack-card.entry.js"],"sourcesContent":["import { r as registerInstance, h, a as Host, g as getElement } from './index-3408babe.js';\nimport { c as classnames } from './index-713f92a5.js';\nimport { s as statusNote } from './status-note-0089e9c9.js';\n\nconst chartStackCardCss = \":host{--scl-chart-stack-card-color:var(--telekom-color-additional-blue-600)}.chart-stack-card{color:var(--color-text);--scl-chart-stack-card-color:var(--telekom-color-additional-blue-600)}.chart-stack-card .header{height:var(--telekom-spacing-unit-x6);font-size:var(--telekom-typography-font-size-headline-3);font-weight:var(--telekom-typography-font-weight-extra-bold);line-height:var(--telekom-typography-line-spacing-tight);margin-bottom:var(--telekom-spacing-unit-x6)}.chart-stack-card .bar{display:flex;justify-content:space-between;margin-bottom:var(--telekom-spacing-unit-x4)}.chart-stack-card .bar__item{background-color:var(--scl-chart-stack-card-color);height:var(--telekom-spacing-unit-x8);flex:1}.chart-stack-card .bar__item:first-of-type{border-top-left-radius:var(--telekom-radius-small);border-bottom-left-radius:var(--telekom-radius-small)}.chart-stack-card .bar__item:last-of-type{border-top-right-radius:var(--telekom-radius-small);border-bottom-right-radius:var(--telekom-radius-small)}.chart-stack-card .legend{display:flex;flex-direction:column;height:calc(var(--telekom-spacing-unit-x4) * 10)}.chart-stack-card .spacer{padding:0 var(--telekom-spacing-unit-x2)}.chart-stack-card .legend .legend__row__item{display:flex;line-height:var(--telekom-typography-line-spacing-standard)}.chart-stack-card .legend .legend__row{display:flex;justify-content:space-between}.chart-stack-card .legend .legend__row:last-child{padding-bottom:var(--telekom-spacing-unit-x8)}.chart-stack-card .legend .legend__item{height:10px;width:10px;background-color:var(--scl-chart-stack-card-color);border-radius:100%;align-self:center;margin-right:var(--telekom-spacing-unit-x1)}.chart-stack-card .legend .legend__label{font-weight:var(--type-weight-bold);font-size:var(--telekom-spacing-unit-x4);line-height:200%}\";\n\nconst ChartStackCard = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.readData = (data) => {\n      try {\n        return Array.isArray(JSON.parse(data)) ? JSON.parse(data) : [];\n      }\n      catch (error) {\n        return Array.isArray(data) ? data : [];\n      }\n    };\n  }\n  getOpacity(item, index) {\n    return JSON.stringify(index === 0 ? 1 : +item.percentage / 100);\n  }\n  getCardStyle() {\n    return `\n      .card:after {\n          content: '';\n          display: block;\n          background: linear-gradient(0deg, white, rgba(255,255,255, 0));\n          height: 2rem;\n          margin-top: -2rem;\n          position: relative;\n        }\n\n      .card__body: {\n        padding-bottom: 0 !important;\n      }\n  `;\n  }\n  connectedCallback() {\n    statusNote({ source: this.hostElement, type: 'warn' });\n  }\n  render() {\n    return (h(Host, null, h(\"div\", { class: this.getCssClassMap() }, h(\"scale-card\", { styles: this.getCardStyle() }, h(\"div\", { class: \"header\" }, this.heading), h(\"div\", { class: \"bar\" }, this.readData(this.data)\n      .sort((a, b) => b.percentage - a.percentage)\n      .map((item, index) => {\n      if (+item.percentage > 0) {\n        return (h(\"div\", { class: \"bar__item\", style: {\n            opacity: this.getOpacity(item, index),\n            flex: JSON.stringify(+item.percentage),\n          } }));\n      }\n    })), h(\"div\", { class: \"legend\" }, this.readData(this.data)\n      .sort((a, b) => b.percentage - a.percentage)\n      .map((item, index) => (h(\"div\", { class: \"legend__row\" }, h(\"div\", { class: \"legend__row__item\" }, h(\"div\", { class: \"legend__item\", style: {\n        opacity: this.getOpacity(item, index),\n      } }), h(\"div\", { class: \"legend__label spacer\" }, item.type)), h(\"div\", { class: \"legend__row__item\" }, h(\"div\", { class: \"spacer\" }, item.value), h(\"div\", { class: \"spacer\" }, item.percentage, \"%\"))))))))));\n  }\n  getCssClassMap() {\n    return classnames('chart-stack-card');\n  }\n  get hostElement() { return getElement(this); }\n};\nChartStackCard.style = chartStackCardCss;\n\nexport { ChartStackCard as scale_chart_stack_card };\n"],"names":["chartStackCardCss","ChartStackCard","__name","hostRef","registerInstance","data","item","index","statusNote","h","Host","a","b","classnames","getElement"],"mappings":"kaAIA,MAAMA,EAAoB,mxDAEpBC,EAAiBC,EAAA,KAAM,CAC3B,YAAYC,EAAS,CACnBC,EAAiB,KAAMD,CAAO,EAC9B,KAAK,SAAYE,GAAS,CACxB,GAAI,CACF,OAAO,MAAM,QAAQ,KAAK,MAAMA,CAAI,CAAC,EAAI,KAAK,MAAMA,CAAI,EAAI,CAAA,CAC7D,MACD,CACE,OAAO,MAAM,QAAQA,CAAI,EAAIA,EAAO,CAAA,CACrC,CACP,CACG,CACD,WAAWC,EAAMC,EAAO,CACtB,OAAO,KAAK,UAAUA,IAAU,EAAI,EAAI,CAACD,EAAK,WAAa,GAAG,CAC/D,CACD,cAAe,CACb,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAcR,CACD,mBAAoB,CAClBE,EAAW,CAAE,OAAQ,KAAK,YAAa,KAAM,MAAM,CAAE,CACtD,CACD,QAAS,CACP,OAAQC,EAAEC,EAAM,KAAMD,EAAE,MAAO,CAAE,MAAO,KAAK,eAAgB,CAAA,EAAIA,EAAE,aAAc,CAAE,OAAQ,KAAK,aAAc,CAAA,EAAIA,EAAE,MAAO,CAAE,MAAO,QAAQ,EAAI,KAAK,OAAO,EAAGA,EAAE,MAAO,CAAE,MAAO,KAAO,EAAE,KAAK,SAAS,KAAK,IAAI,EAC9M,KAAK,CAACE,EAAGC,IAAMA,EAAE,WAAaD,EAAE,UAAU,EAC1C,IAAI,CAACL,EAAMC,IAAU,CACtB,GAAI,CAACD,EAAK,WAAa,EACrB,OAAQG,EAAE,MAAO,CAAE,MAAO,YAAa,MAAO,CAC1C,QAAS,KAAK,WAAWH,EAAMC,CAAK,EACpC,KAAM,KAAK,UAAU,CAACD,EAAK,UAAU,CACtC,CAAA,CAAE,CAER,CAAA,CAAC,EAAGG,EAAE,MAAO,CAAE,MAAO,QAAU,EAAE,KAAK,SAAS,KAAK,IAAI,EACvD,KAAK,CAACE,EAAGC,IAAMA,EAAE,WAAaD,EAAE,UAAU,EAC1C,IAAI,CAACL,EAAMC,IAAWE,EAAE,MAAO,CAAE,MAAO,eAAiBA,EAAE,MAAO,CAAE,MAAO,qBAAuBA,EAAE,MAAO,CAAE,MAAO,eAAgB,MAAO,CAC1I,QAAS,KAAK,WAAWH,EAAMC,CAAK,CAC5C,CAAS,CAAA,EAAGE,EAAE,MAAO,CAAE,MAAO,sBAAwB,EAAEH,EAAK,IAAI,CAAC,EAAGG,EAAE,MAAO,CAAE,MAAO,mBAAqB,EAAEA,EAAE,MAAO,CAAE,MAAO,QAAQ,EAAIH,EAAK,KAAK,EAAGG,EAAE,MAAO,CAAE,MAAO,QAAU,EAAEH,EAAK,WAAY,GAAG,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAAC,CAChN,CACD,gBAAiB,CACf,OAAOO,EAAW,kBAAkB,CACrC,CACD,IAAI,aAAc,CAAE,OAAOC,EAAW,IAAI,CAAI,CAChD,EAtDuB,kBAuDvBb,EAAe,MAAQD"}