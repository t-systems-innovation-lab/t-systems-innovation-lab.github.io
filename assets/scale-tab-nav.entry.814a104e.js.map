{"version":3,"file":"scale-tab-nav.entry.814a104e.js","sources":["../../node_modules/@telekom/scale-components/dist/esm/scale-tab-nav.entry.js"],"sourcesContent":["import { r as registerInstance, h, a as Host, g as getElement } from './index-3408babe.js';\nimport { c as classnames } from './index-713f92a5.js';\nimport { s as statusNote } from './status-note-0089e9c9.js';\n\nconst tabNavCss = \":host{--tab-height:var(--telekom-spacing-unit-x10);--tab-spacing:var(--telekom-spacing-unit-x6);--tab-radius:var(--telekom-radius-small);--tab-border-size:var(--telekom-line-weight-highlight);--tab-border-size-selected:var(--telekom-line-weight-bold);--tab-border-color:var(--telekom-color-ui-subtle)}\";\n\n/**\n * @see https://github.com/GoogleChromeLabs/howto-components/blob/master/elements/howto-tabs/howto-tabs.js\n */\nconst ARROW_LEFT = 'ArrowLeft';\nconst ARROW_RIGHT = 'ArrowRight';\nconst HOME = 'Home';\nconst END = 'End';\nconst TabNav = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    /** True for smaller height and font size in tab headers. */\n    /** @deprecated - size should replace small */\n    this.small = false;\n    /** (optional) size  */\n    this.size = 'large';\n  }\n  smallChanged() {\n    this.propagateSizeToTabs();\n  }\n  handleClick(event) {\n    const nextTab = event.target;\n    if (nextTab.getAttribute('role') !== 'tab') {\n      return;\n    }\n    this.selectTab(nextTab);\n  }\n  handleKeydown(event) {\n    const target = event.target;\n    let nextTab;\n    if (target.getAttribute('role') !== 'tab') {\n      return;\n    }\n    // Do not handle modifier shortcuts typically used by assistive technology\n    if (event.altKey) {\n      return;\n    }\n    switch (event.key) {\n      case ARROW_LEFT:\n        nextTab = this.getPreviousTab();\n        break;\n      case ARROW_RIGHT:\n        nextTab = this.getNextTab();\n        break;\n      case HOME:\n        nextTab = this.getFirstTab();\n        break;\n      case END:\n        nextTab = this.getLastTab();\n        break;\n      default:\n        return;\n    }\n    event.preventDefault();\n    this.selectTab(nextTab);\n  }\n  connectedCallback() {\n    if (!this.el.hasAttribute('role')) {\n      this.el.setAttribute('role', 'tablist');\n    }\n  }\n  componentDidRender() {\n    Promise.all([\n      customElements.whenDefined('scale-tab-header'),\n      customElements.whenDefined('scale-tab-panel'),\n    ]).then(() => {\n      this.linkPanels();\n      this.propagateSizeToTabs();\n    });\n    if (this.small !== false) {\n      statusNote({\n        tag: 'deprecated',\n        message: 'Property \"small\" is deprecated. Please use the \"size\" property!',\n        type: 'warn',\n        source: this.el,\n      });\n    }\n  }\n  getAllTabs() {\n    return Array.from(this.el.querySelectorAll('scale-tab-header'));\n  }\n  getAllEnabledTabs() {\n    return Array.from(this.el.querySelectorAll('scale-tab-header:not([disabled])'));\n  }\n  getAllPanels() {\n    return Array.from(this.el.querySelectorAll('scale-tab-panel'));\n  }\n  getPreviousTab() {\n    const tabs = this.getAllEnabledTabs();\n    const index = tabs.findIndex((tab) => tab.selected) - 1;\n    return tabs[(index + tabs.length) % tabs.length];\n  }\n  getNextTab() {\n    const tabs = this.getAllEnabledTabs();\n    const index = tabs.findIndex((tab) => tab.selected) + 1;\n    return tabs[index % tabs.length];\n  }\n  getFirstTab() {\n    const tabs = this.getAllEnabledTabs();\n    return tabs[0];\n  }\n  getLastTab() {\n    const tabs = this.getAllEnabledTabs();\n    return tabs[tabs.length - 1];\n  }\n  linkPanels() {\n    const tabs = this.getAllEnabledTabs();\n    const selectedTab = tabs.find((x) => x.selected) || tabs[0];\n    tabs.forEach((tab) => {\n      const panel = tab.nextElementSibling;\n      tab.setAttribute('aria-controls', panel.id);\n      panel.setAttribute('aria-labelledby', tab.id);\n    });\n    this.selectTab(selectedTab);\n  }\n  reset() {\n    const tabs = this.getAllEnabledTabs();\n    const panels = this.getAllPanels();\n    tabs.forEach((tab) => (tab.selected = false));\n    panels.forEach((panel) => (panel.hidden = true));\n  }\n  findPanelForTab(tab) {\n    const panelId = tab.getAttribute('aria-controls');\n    return this.el.querySelector(`#${panelId}`);\n  }\n  selectTab(nextTab) {\n    const nextPanel = this.findPanelForTab(nextTab);\n    this.reset();\n    nextPanel.hidden = false;\n    nextTab.selected = true;\n  }\n  /**\n   * Sets or removes the `small` prop in `scale-tab-header` and `scale-tab-panel` children.\n   */\n  propagateSizeToTabs() {\n    const action = this.size === 'small' || this.small ? 'setAttribute' : 'removeAttribute';\n    const tabs = this.getAllTabs();\n    const panels = this.getAllPanels();\n    [...tabs, ...panels].forEach((child) => child[action]('size', 'small'));\n  }\n  render() {\n    return (h(Host, null, this.styles && h(\"style\", null, this.styles), h(\"div\", { part: this.getBasePartMap(), class: this.getCssClassMap() }, h(\"slot\", { name: \"tab\" }), h(\"slot\", { name: \"panel\" }))));\n  }\n  getBasePartMap() {\n    return this.getCssOrBasePartMap('basePart');\n  }\n  getCssClassMap() {\n    return this.getCssOrBasePartMap('css');\n  }\n  getCssOrBasePartMap(mode) {\n    const component = 'tab-nav';\n    const prefix = mode === 'basePart' ? '' : `${component}--`;\n    return classnames(component, (this.size === 'small' || this.small) && `${prefix}small`);\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"small\": [\"smallChanged\"]\n  }; }\n};\nTabNav.style = tabNavCss;\n\nexport { TabNav as scale_tab_nav };\n"],"names":["tabNavCss","ARROW_LEFT","ARROW_RIGHT","HOME","END","TabNav","__name","hostRef","registerInstance","event","nextTab","target","statusNote","tabs","index","tab","selectedTab","x","panel","panels","panelId","nextPanel","action","child","h","Host","mode","component","prefix","classnames","getElement"],"mappings":"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"}