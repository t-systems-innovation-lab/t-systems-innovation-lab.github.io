{"version":3,"file":"scale-slider.entry.5e974cb8.js","sources":["../../node_modules/@telekom/scale-components/dist/esm/scale-slider.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, a as Host, g as getElement } from './index-3408babe.js';\nimport { c as classnames } from './index-713f92a5.js';\nimport { e as emitEvent } from './utils-004d7b05.js';\nimport { s as statusNote } from './status-note-0089e9c9.js';\n\nconst sliderCss = \":host{--border:1px solid var(--telekom-color-ui-border-standard);--background-bar:var(--telekom-color-primary-standard);--border-color-thumb:var(--telekom-color-ui-border-standard);--box-shadow-thumb:var(--telekom-shadow-resting-standard);--border-color-thumb-hover:var(--telekom-color-ui-border-hovered);--border-color-thumb-active:var(--telekom-color-ui-border-pressed);--box-shadow-thumb-focus:0 0 0 var(--telekom-line-weight-highlight)\\n    var(--telekom-color-functional-focus);--color-display-value:var(--telekom-color-text-and-icon-additional);--font-weight-display-value:var(--telekom-typography-font-weight-bold);--font-size-display-value:var(--telekom-typography-font-size-small);--background-track:var(--telekom-color-ui-faint);--background-bar-disabled:var(--telekom-color-ui-disabled);--color-label-disabled:var(--telekom-color-text-and-icon-disabled)}.slider{width:100%;display:block;align-items:center}.slider .slider__track-wrapper{display:flex;align-items:center}.slider .slider__track{width:303px;border:var(--border);height:6px;margin:16px 0;display:flex;position:relative;box-sizing:border-box;align-items:center;border-radius:100px}.slider .slider__bar{height:6px;z-index:-1;position:absolute;border-radius:100px;background-color:var(--background-bar);z-index:var(--scl-z-index-10)}.slider .slider__thumb-wrapper{width:32px;height:32px;display:flex;z-index:var(--scl-z-index-20);position:absolute;text-align:center;align-items:center;margin-left:-16px;justify-content:center;background-color:transparent}.slider .slider__thumb{width:16px;border:1px solid;height:16px;outline:none;box-sizing:border-box;border-color:var(--border-color-thumb);border-radius:50%;background-color:#fff;box-shadow:var(--telekom-shadow-resting-standard)}.slider .slider__display-value{color:var(--color-display-value);margin-left:24px;font-weight:var(--font-weight-display-value);font-size:var(--font-size-display-value)}.slider .slider__thumb:hover{border-color:var(--border-color-thumb-hover)}.slider .slider__thumb:active{border-color:var(--border-color-thumb-active)}.slider .slider__thumb:focus{box-shadow:var(--box-shadow-thumb-focus)}.slider .slider__thumb-wrapper:hover{cursor:grab}.slider .slider__thumb-wrapper:active{cursor:grabbing}.slider--track-small .slider__track{border:none;height:1px;border-top:1px solid transparent;background-color:var(--background-track)}.slider--track-small .slider__bar{border:1px solid transparent;height:3px;z-index:1;box-sizing:border-box}.slider--thumb-large .slider__thumb{width:24px;height:24px}.slider--disabled .slider__track-wrapper{cursor:not-allowed}.slider--disabled .slider__bar{background-color:var(--background-bar-disabled);z-index:var(--scl-z-index-10)}.slider--disabled .slider__track{border-color:var(--telekom-color-ui-border-disabled)}.slider--disabled .slider__thumb{display:none}.slider--disabled .slider__label{color:var(--color-label-disabled)}.slider--disabled .slider__thumb-wrapper:hover{cursor:not-allowed}\";\n\nlet i = 0;\nconst Slider = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.scaleChange = createEvent(this, \"scale-change\", 7);\n    this.scaleChangeLegacy = createEvent(this, \"scaleChange\", 7);\n    this.scaleInput = createEvent(this, \"scale-input\", 7);\n    this.scaleInputLegacy = createEvent(this, \"scaleInput\", 7);\n    /** t(optional) he minimal value of the slider */\n    this.min = 0;\n    /** (optional) the maximal value of the slider */\n    this.max = 100;\n    /** (optional) the step size to increase or decrease when dragging slider */\n    this.step = 1;\n    /** (optional) slider display value */\n    this.showValue = true;\n    /** (optional) slider value unit */\n    this.unit = '%';\n    /** (optional) number of decimal places */\n    this.decimals = 0;\n    /** (optional) disabled  */\n    this.disabled = false;\n    /** (optional) smaller track */\n    this.trackSmall = false;\n    /** (optional) larger thumb */\n    this.thumbLarge = false;\n    this.onButtonDown = () => {\n      if (this.disabled) {\n        return;\n      }\n      this.onDragStart();\n      this.addGlobalListeners();\n    };\n    this.onKeyDown = (event) => {\n      let steps = 0;\n      if (['ArrowRight', 'ArrowLeft'].includes(event.key)) {\n        steps = event.key === 'ArrowRight' ? this.step : -this.step;\n      }\n      if (['ArrowUp', 'ArrowDown'].includes(event.key)) {\n        steps = event.key === 'ArrowUp' ? this.step * 10 : -this.step * 10;\n      }\n      this.setValue(this.value + steps);\n    };\n    this.onDragStart = () => {\n      this.dragging = true;\n      this.offsetLeft = this.sliderTrack.getBoundingClientRect().left;\n    };\n    this.onDragging = (event) => {\n      const { dragging, offsetLeft } = this;\n      if (dragging) {\n        const currentX = this.handleTouchEvent(event).clientX;\n        const position = ((currentX - offsetLeft) / this.sliderTrack.offsetWidth) * 100;\n        const nextValue = (position * (this.max - this.min)) / 100 + this.min;\n        // https://stackoverflow.com/q/14627566\n        const roundedNextValue = Math.ceil(nextValue / this.step) * this.step;\n        this.setValue(roundedNextValue);\n      }\n    };\n    this.onDragEnd = () => {\n      this.dragging = false;\n      emitEvent(this, 'scaleChange', this.value);\n      this.removeGlobalListeners();\n    };\n    this.setValue = (nextValue) => {\n      this.value = this.clamp(nextValue);\n      emitEvent(this, 'scaleInput', this.value);\n    };\n    this.setPosition = () => {\n      if (!this.value) {\n        this.position = 0;\n        return;\n      }\n      const clampedValue = this.clamp(this.value);\n      // https://stackoverflow.com/a/25835683\n      this.position = ((clampedValue - this.min) * 100) / (this.max - this.min);\n    };\n    this.clamp = (val) => {\n      return Math.min(Math.max(val, this.min), this.max);\n    };\n    this.onDragging = this.onDragging.bind(this);\n    this.onDragEnd = this.onDragEnd.bind(this);\n  }\n  componentWillLoad() {\n    if (this.sliderId == null) {\n      this.sliderId = 'slider-' + i++;\n    }\n    this.setPosition();\n  }\n  disconnectedCallback() {\n    this.removeGlobalListeners();\n  }\n  componentDidLoad() {\n    if (this.customColor !== undefined) {\n      statusNote({\n        tag: 'deprecated',\n        message: `Property \"customColor\" is deprecated. \n          Please use css variable \"--background-bar\" to set the slider-bar color;\n          e.g. <scale-slider value=\"20\" style=\"--background-bar: green\"></scale-slider>`,\n        type: 'warn',\n        source: this.hostElement,\n      });\n    }\n  }\n  handleTouchEvent(event) {\n    return event.type.indexOf('touch') === 0 ? event.touches[0] : event;\n  }\n  handleValueChange() {\n    this.setPosition();\n  }\n  addGlobalListeners() {\n    window.addEventListener('mousemove', this.onDragging.bind(this));\n    window.addEventListener('mouseup', this.onDragEnd.bind(this));\n    window.addEventListener('touchmove', this.onDragging.bind(this));\n    window.addEventListener('touchend', this.onDragEnd.bind(this));\n  }\n  removeGlobalListeners() {\n    window.removeEventListener('mousemove', this.onDragging);\n    window.removeEventListener('mouseup', this.onDragEnd);\n    window.removeEventListener('touchmove', this.onDragging);\n    window.removeEventListener('touchend', this.onDragEnd);\n  }\n  render() {\n    return (h(Host, null, this.styles && h(\"style\", null, this.styles), h(\"div\", { part: this.getBasePartMap(), class: this.getCssClassMap() }, !!this.label && (h(\"label\", { part: \"label\", class: \"slider__label\", id: `${this.sliderId}-label`, htmlFor: this.sliderId }, this.label)), h(\"div\", { part: \"track-wrapper\", class: \"slider__track-wrapper\" }, h(\"div\", { part: \"track\", class: \"slider__track\", ref: (el) => (this.sliderTrack = el) }, h(\"div\", { part: \"bar\", class: \"slider__bar\", style: {\n        width: `${this.position}%`,\n        backgroundColor: this.customColor\n          ? this.customColor\n          : this.disabled\n            ? `var(--background-bar-disabled)`\n            : `var(--background-bar)`,\n      } }), h(\"div\", { part: \"thumb-wrapper\", class: \"slider__thumb-wrapper\", style: { left: `${this.position}%` }, onMouseDown: this.onButtonDown, onTouchStart: this.onButtonDown }, h(\"div\", { part: \"thumb\", class: \"slider__thumb\", tabindex: \"0\", role: \"slider\", id: this.sliderId, \"aria-valuemin\": this.min, \"aria-valuenow\": this.value, \"aria-valuemax\": this.max, \"aria-valuetext\": `${this.value}`, \"aria-labelledby\": `${this.sliderId}-label`, \"aria-orientation\": \"horizontal\", \"aria-disabled\": this.disabled, onKeyDown: this.onKeyDown }))), h(\"input\", { type: \"hidden\", value: this.value, name: this.name }), this.showValue && (h(\"div\", { part: \"display-value\", class: \"slider__display-value\" }, this.value != null && this.value.toFixed(this.decimals), this.value != null && this.unit))))));\n  }\n  getBasePartMap() {\n    return this.getCssOrBasePartMap('basePart');\n  }\n  getCssClassMap() {\n    return this.getCssOrBasePartMap('css');\n  }\n  getCssOrBasePartMap(mode) {\n    const component = 'slider';\n    const prefix = mode === 'basePart' ? '' : `${component}--`;\n    return classnames(component, this.disabled && `${prefix}disabled`, this.trackSmall && `${prefix}track-small`, this.thumbLarge && `${prefix}thumb-large`);\n  }\n  get hostElement() { return getElement(this); }\n  static get watchers() { return {\n    \"value\": [\"handleValueChange\"]\n  }; }\n};\nSlider.style = sliderCss;\n\nexport { Slider as scale_slider };\n"],"names":["sliderCss","i","Slider","__name","hostRef","registerInstance","createEvent","event","steps","dragging","offsetLeft","nextValue","roundedNextValue","emitEvent","clampedValue","val","statusNote","h","Host","el","mode","component","prefix","classnames","getElement"],"mappings":"0dAKA,MAAMA,EAAY;AAAA,u+EAElB,IAAIC,EAAI,EACH,MAACC,EAASC,EAAA,KAAM,CACnB,YAAYC,EAAS,CACnBC,EAAiB,KAAMD,CAAO,EAC9B,KAAK,YAAcE,EAAY,KAAM,eAAgB,CAAC,EACtD,KAAK,kBAAoBA,EAAY,KAAM,cAAe,CAAC,EAC3D,KAAK,WAAaA,EAAY,KAAM,cAAe,CAAC,EACpD,KAAK,iBAAmBA,EAAY,KAAM,aAAc,CAAC,EAEzD,KAAK,IAAM,EAEX,KAAK,IAAM,IAEX,KAAK,KAAO,EAEZ,KAAK,UAAY,GAEjB,KAAK,KAAO,IAEZ,KAAK,SAAW,EAEhB,KAAK,SAAW,GAEhB,KAAK,WAAa,GAElB,KAAK,WAAa,GAClB,KAAK,aAAe,IAAM,CACpB,KAAK,WAGT,KAAK,YAAW,EAChB,KAAK,mBAAkB,EAC7B,EACI,KAAK,UAAaC,GAAU,CAC1B,IAAIC,EAAQ,EACR,CAAC,aAAc,WAAW,EAAE,SAASD,EAAM,GAAG,IAChDC,EAAQD,EAAM,MAAQ,aAAe,KAAK,KAAO,CAAC,KAAK,MAErD,CAAC,UAAW,WAAW,EAAE,SAASA,EAAM,GAAG,IAC7CC,EAAQD,EAAM,MAAQ,UAAY,KAAK,KAAO,GAAK,CAAC,KAAK,KAAO,IAElE,KAAK,SAAS,KAAK,MAAQC,CAAK,CACtC,EACI,KAAK,YAAc,IAAM,CACvB,KAAK,SAAW,GAChB,KAAK,WAAa,KAAK,YAAY,sBAAqB,EAAG,IACjE,EACI,KAAK,WAAcD,GAAU,CAC3B,KAAM,CAAE,SAAAE,EAAU,WAAAC,CAAY,EAAG,KACjC,GAAID,EAAU,CAGZ,MAAME,GAFW,KAAK,iBAAiBJ,CAAK,EAAE,QAChBG,GAAc,KAAK,YAAY,YAAe,KAC7C,KAAK,IAAM,KAAK,KAAQ,IAAM,KAAK,IAE5DE,EAAmB,KAAK,KAAKD,EAAY,KAAK,IAAI,EAAI,KAAK,KACjE,KAAK,SAASC,CAAgB,CAC/B,CACP,EACI,KAAK,UAAY,IAAM,CACrB,KAAK,SAAW,GAChBC,EAAU,KAAM,cAAe,KAAK,KAAK,EACzC,KAAK,sBAAqB,CAChC,EACI,KAAK,SAAYF,GAAc,CAC7B,KAAK,MAAQ,KAAK,MAAMA,CAAS,EACjCE,EAAU,KAAM,aAAc,KAAK,KAAK,CAC9C,EACI,KAAK,YAAc,IAAM,CACvB,GAAI,CAAC,KAAK,MAAO,CACf,KAAK,SAAW,EAChB,MACD,CACD,MAAMC,EAAe,KAAK,MAAM,KAAK,KAAK,EAE1C,KAAK,UAAaA,EAAe,KAAK,KAAO,KAAQ,KAAK,IAAM,KAAK,IAC3E,EACI,KAAK,MAASC,GACL,KAAK,IAAI,KAAK,IAAIA,EAAK,KAAK,GAAG,EAAG,KAAK,GAAG,EAEnD,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,EAC3C,KAAK,UAAY,KAAK,UAAU,KAAK,IAAI,CAC1C,CACD,mBAAoB,CACd,KAAK,UAAY,OACnB,KAAK,SAAW,UAAYd,KAE9B,KAAK,YAAW,CACjB,CACD,sBAAuB,CACrB,KAAK,sBAAqB,CAC3B,CACD,kBAAmB,CACb,KAAK,cAAgB,QACvBe,EAAW,CACT,IAAK,aACL,QAAS;AAAA;AAAA,yFAGT,KAAM,OACN,OAAQ,KAAK,WACrB,CAAO,CAEJ,CACD,iBAAiBT,EAAO,CACtB,OAAOA,EAAM,KAAK,QAAQ,OAAO,IAAM,EAAIA,EAAM,QAAQ,GAAKA,CAC/D,CACD,mBAAoB,CAClB,KAAK,YAAW,CACjB,CACD,oBAAqB,CACnB,OAAO,iBAAiB,YAAa,KAAK,WAAW,KAAK,IAAI,CAAC,EAC/D,OAAO,iBAAiB,UAAW,KAAK,UAAU,KAAK,IAAI,CAAC,EAC5D,OAAO,iBAAiB,YAAa,KAAK,WAAW,KAAK,IAAI,CAAC,EAC/D,OAAO,iBAAiB,WAAY,KAAK,UAAU,KAAK,IAAI,CAAC,CAC9D,CACD,uBAAwB,CACtB,OAAO,oBAAoB,YAAa,KAAK,UAAU,EACvD,OAAO,oBAAoB,UAAW,KAAK,SAAS,EACpD,OAAO,oBAAoB,YAAa,KAAK,UAAU,EACvD,OAAO,oBAAoB,WAAY,KAAK,SAAS,CACtD,CACD,QAAS,CACP,OAAQU,EAAEC,EAAM,KAAM,KAAK,QAAUD,EAAE,QAAS,KAAM,KAAK,MAAM,EAAGA,EAAE,MAAO,CAAE,KAAM,KAAK,eAAc,EAAI,MAAO,KAAK,gBAAkB,EAAE,CAAC,CAAC,KAAK,OAAUA,EAAE,QAAS,CAAE,KAAM,QAAS,MAAO,gBAAiB,GAAI,GAAG,KAAK,iBAAkB,QAAS,KAAK,QAAQ,EAAI,KAAK,KAAK,EAAIA,EAAE,MAAO,CAAE,KAAM,gBAAiB,MAAO,uBAAuB,EAAIA,EAAE,MAAO,CAAE,KAAM,QAAS,MAAO,gBAAiB,IAAME,GAAQ,KAAK,YAAcA,CAAK,EAAEF,EAAE,MAAO,CAAE,KAAM,MAAO,MAAO,cAAe,MAAO,CACte,MAAO,GAAG,KAAK,YACf,gBAAiB,KAAK,YAClB,KAAK,YACL,KAAK,SACH,iCACA,uBACP,CAAA,CAAE,EAAGA,EAAE,MAAO,CAAE,KAAM,gBAAiB,MAAO,wBAAyB,MAAO,CAAE,KAAM,GAAG,KAAK,aAAe,YAAa,KAAK,aAAc,aAAc,KAAK,cAAgBA,EAAE,MAAO,CAAE,KAAM,QAAS,MAAO,gBAAiB,SAAU,IAAK,KAAM,SAAU,GAAI,KAAK,SAAU,gBAAiB,KAAK,IAAK,gBAAiB,KAAK,MAAO,gBAAiB,KAAK,IAAK,iBAAkB,GAAG,KAAK,QAAS,kBAAmB,GAAG,KAAK,iBAAkB,mBAAoB,aAAc,gBAAiB,KAAK,SAAU,UAAW,KAAK,SAAS,CAAE,CAAC,CAAC,EAAGA,EAAE,QAAS,CAAE,KAAM,SAAU,MAAO,KAAK,MAAO,KAAM,KAAK,IAAM,CAAA,EAAG,KAAK,WAAcA,EAAE,MAAO,CAAE,KAAM,gBAAiB,MAAO,uBAAyB,EAAE,KAAK,OAAS,MAAQ,KAAK,MAAM,QAAQ,KAAK,QAAQ,EAAG,KAAK,OAAS,MAAQ,KAAK,IAAI,CAAE,CAAC,CAAC,CACpxB,CACD,gBAAiB,CACf,OAAO,KAAK,oBAAoB,UAAU,CAC3C,CACD,gBAAiB,CACf,OAAO,KAAK,oBAAoB,KAAK,CACtC,CACD,oBAAoBG,EAAM,CACxB,MAAMC,EAAY,SACZC,EAASF,IAAS,WAAa,GAAK,GAAGC,MAC7C,OAAOE,EAAWF,EAAW,KAAK,UAAY,GAAGC,YAAkB,KAAK,YAAc,GAAGA,eAAqB,KAAK,YAAc,GAAGA,cAAmB,CACxJ,CACD,IAAI,aAAc,CAAE,OAAOE,EAAW,IAAI,CAAI,CAC9C,WAAW,UAAW,CAAE,MAAO,CAC7B,MAAS,CAAC,mBAAmB,CACjC,CAAM,CACN,EAjJe,UAkJftB,EAAO,MAAQF"}