{"version":3,"file":"scale-tooltip.entry.b0e0fe22.js","sources":["../../node_modules/@telekom/scale-components/dist/esm/scale-tooltip.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, a as Host, g as getElement } from './index-3408babe.js';\nimport { c as computePosition, o as offset, f as flip, a as arrow, s as shift } from './floating-ui.dom.esm-07191aca.js';\nimport { a as isClickOutside } from './utils-004d7b05.js';\nimport { s as statusNote } from './status-note-0089e9c9.js';\n\nconst tooltipCss = \":host{--radius:var(--telekom-radius-small);--background:var(--telekom-color-background-surface-highlight);--color:var(--telekom-color-text-and-icon-white-standard);--font-weight:var(--telekom-typography-font-weight-regular);--font-size:var(--telekom-typography-font-size-body);--line-height:var(--telekom-typography-line-spacing-standard);--spacing:var(--telekom-spacing-unit-x05) var(--telekom-spacing-unit-x2);--arrow-size:12px;--transition-delay-hide:var(--telekom-motion-duration-instant);--transition-duration-hide:var(--telekom-motion-duration-immediate);--transition-timing-function-hide:var(--telekom-motion-easing-standard);--transition-duration-show:var(--telekom-motion-duration-immediate);--transition-timing-function-show:var(--telekom-motion-easing-standard);--z-index:var(--scl-z-index-70);display:contents;position:relative;box-sizing:border-box}[part='tooltip']{position:absolute;z-index:var(--z-index);top:0;left:0;background:var(--background);color:var(--color);font-weight:var(--font-weight);font-size:var(--font-size);line-height:var(--line-height);padding:var(--spacing);border-radius:var(--radius);transition-property:opacity;transition-duration:var(--transition-duration-show);transition-timing-function:var(--transition-timing-function-show)}[part='tooltip'][aria-hidden='true']{opacity:0;transition-delay:var(--transition-delay-hide);transition-duration:var(--transition-duration-hide);transition-timing-function:var(--transition-timing-function-hide);pointer-events:none}[part='trigger']{}[part='arrow']{position:absolute;z-index:-1;background:var(--background);width:var(--arrow-size);height:var(--arrow-size);transform:rotate(45deg)}@media screen and (-ms-high-contrast: active){[part='tooltip']{border:1px solid yellow}}\";\n\nlet id = 0;\nconst Tooltip = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.tooltipBeforeShow = createEvent(this, \"scale-before-show\", 7);\n    this.tooltipShow = createEvent(this, \"scale-show\", 7);\n    this.tooltipBeforeHide = createEvent(this, \"scale-before-hide\", 7);\n    this.tooltipHide = createEvent(this, \"scale-hide\", 7);\n    this.componentId = `tooltip-${++id}`;\n    /** (optional) The content of the Tooltip, supporting text only */\n    this.content = '';\n    /** (optional) Position of the Tooltip around the trigger element */\n    this.placement = 'top';\n    /** (optional) Disable the tooltip */\n    this.disabled = false;\n    /** (optional) Tooltip distance from the target element (related to `placement`) */\n    this.distance = 10;\n    /** (optional) How much of the arrow element is \"hidden\" */\n    this.arrowOffset = -4;\n    /** (optional) Padding between the arrow and the edges of the tooltip */\n    this.arrowPadding = 8;\n    /** (optional) Set the tooltip to opened by default (will still be closed on closing events) */\n    this.opened = false;\n    /** (optional) Set custom trigger event (hover, focus, click) */\n    this.trigger = 'hover focus';\n    /** (optional) Switching the flip option of the tooltip on and off */\n    this.flip = true;\n    this.mouseOverTooltip = false;\n    /**\n     * @see https://floating-ui.com/docs/tutorial#arrow-middleware\n     */\n    this.update = async () => {\n      if (this.disabled || this.triggerEl == null) {\n        return;\n      }\n      // Position tooltip\n      const { x, y, placement, middlewareData } = await computePosition(this.triggerEl, this.tooltipEl, {\n        placement: this.placement,\n        middleware: [\n          offset(this.distance),\n          ...(this.flip ? [flip()] : []),\n          arrow({ element: this.arrowEl, padding: this.arrowPadding }),\n          shift({ crossAxis: true }),\n        ],\n      });\n      Object.assign(this.tooltipEl.style, {\n        left: `${x}px`,\n        top: `${y}px`,\n      });\n      // Position arrow\n      const { x: arrowX, y: arrowY } = middlewareData.arrow;\n      const [side] = placement.split('-');\n      const staticSide = {\n        top: 'bottom',\n        right: 'left',\n        bottom: 'top',\n        left: 'right',\n      }[side];\n      Object.assign(this.arrowEl.style, {\n        left: arrowX != null ? `${arrowX}px` : '',\n        top: arrowY != null ? `${arrowY}px` : '',\n        right: '',\n        bottom: '',\n        [staticSide]: `${this.arrowOffset}px`,\n      });\n    };\n    this.handleBlur = () => {\n      if (this.hasTrigger('focus')) {\n        this.hideTooltip();\n      }\n    };\n    this.handleClick = () => {\n      if (this.hasTrigger('click')) {\n        this.opened && !this.hasTrigger('focus')\n          ? this.hideTooltip()\n          : this.showTooltip();\n      }\n    };\n    this.handleFocus = () => {\n      if (this.hasTrigger('focus')) {\n        this.showTooltip();\n      }\n    };\n    this.handleKeyDown = (event) => {\n      if (this.opened && event.key === 'Escape') {\n        event.stopPropagation();\n        this.hideTooltip();\n      }\n    };\n    this.handleMouseOver = () => {\n      if (this.hasTrigger('hover')) {\n        this.showTooltip();\n      }\n    };\n    this.handleMouseOut = () => {\n      if (!this.mouseOverTooltip) {\n        if (this.hasTrigger('hover')) {\n          this.hideTooltip();\n        }\n      }\n    };\n    this.handleTooltipMouseOver = () => {\n      this.mouseOverTooltip = true;\n    };\n    this.handleTooltipBlur = () => {\n      this.mouseOverTooltip = false;\n      this.handleMouseOut();\n    };\n    this.hasTrigger = (triggerType) => {\n      const triggers = this.trigger.split(' ');\n      return triggers.includes(triggerType);\n    };\n  }\n  handleOpenChange() {\n    this.opened ? this.showTooltip() : this.hideTooltip();\n  }\n  connectedCallback() {\n    statusNote({ source: this.hostElement, tag: 'beta' });\n    if (this.hostElement.hasAttribute('open')) {\n      statusNote({\n        tag: 'deprecated',\n        message: 'The `open` prop is deprecated in favor of `opened`',\n        source: this.hostElement,\n      });\n    }\n    const children = Array.from(this.hostElement.children).filter((x) => !x.hasAttribute('slot'));\n    if (children.length === 0) {\n      // If not children found to be used as trigger, warn\n      statusNote({\n        tag: 'warning',\n        message: 'An element is required, if using text, wrap it in a `<span>`',\n        type: 'warn',\n        source: this.hostElement,\n      });\n      return;\n    }\n    this.triggerEl = children[0];\n    this.triggerEl.addEventListener('blur', this.handleBlur, true);\n    this.triggerEl.addEventListener('click', this.handleClick, true);\n    this.triggerEl.addEventListener('focus', this.handleFocus, true);\n    this.triggerEl.addEventListener('mouseover', this.handleMouseOver, true);\n    this.triggerEl.addEventListener('mouseout', this.handleMouseOut, true);\n  }\n  disconnectedCallback() {\n    this.triggerEl.removeEventListener('blur', this.handleBlur, true);\n    this.triggerEl.removeEventListener('click', this.handleClick, true);\n    this.triggerEl.removeEventListener('focus', this.handleFocus, true);\n    this.triggerEl.removeEventListener('mouseover', this.handleMouseOver, true);\n    this.triggerEl.removeEventListener('mouseout', this.handleMouseOut, true);\n  }\n  handleOutsideClick(event) {\n    if (isClickOutside(event, this.hostElement)) {\n      this.hideTooltip();\n    }\n  }\n  componentDidUpdate() {\n    this.update();\n    if (this.opened) {\n      this.showTooltip();\n    }\n  }\n  componentDidRender() {\n    this.update();\n  }\n  async showTooltip() {\n    if (this.opened) {\n      return;\n    }\n    const scaleShow = this.tooltipBeforeShow.emit();\n    if (scaleShow.defaultPrevented) {\n      this.opened = false;\n      return;\n    }\n    this.opened = true;\n    this.update();\n  }\n  async hideTooltip() {\n    if (!this.opened) {\n      return;\n    }\n    const tooltipBeforeHide = this.tooltipBeforeHide.emit();\n    if (tooltipBeforeHide.defaultPrevented) {\n      this.opened = true;\n      return;\n    }\n    this.opened = false;\n    this.update();\n  }\n  render() {\n    return (h(Host, { onKeyDown: this.handleKeyDown }, this.styles && h(\"style\", null, this.styles), h(\"span\", { part: \"trigger\", \"aria-describedby\": this.componentId }, h(\"slot\", null)), !this.disabled && (h(\"div\", { part: \"tooltip\", role: \"tooltip\", \"aria-hidden\": this.opened ? 'false' : 'true', ref: (el) => (this.tooltipEl = el), id: this.componentId, tabIndex: 0, onMouseOver: this.handleTooltipMouseOver, onMouseLeave: this.handleTooltipBlur }, h(\"slot\", { name: \"content\" }, this.content), h(\"div\", { part: \"arrow\", ref: (el) => (this.arrowEl = el) })))));\n  }\n  get hostElement() { return getElement(this); }\n  static get watchers() { return {\n    \"opened\": [\"handleOpenChange\"]\n  }; }\n};\nTooltip.style = tooltipCss;\n\nexport { Tooltip as scale_tooltip };\n"],"names":["tooltipCss","id","Tooltip","__name","hostRef","registerInstance","createEvent","x","y","placement","middlewareData","computePosition","offset","flip","arrow","shift","arrowX","arrowY","side","staticSide","event","triggerType","statusNote","children","isClickOutside","h","Host","el","getElement"],"mappings":"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"}