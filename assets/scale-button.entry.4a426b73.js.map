{"version":3,"file":"scale-button.entry.4a426b73.js","sources":["../../node_modules/@telekom/scale-components/dist/esm/scale-button.entry.js"],"sourcesContent":["import { r as registerInstance, h, a as Host, g as getElement } from './index-3408babe.js';\nimport { c as classnames } from './index-713f92a5.js';\nimport { h as hasShadowDom, i as isScaleIcon } from './utils-004d7b05.js';\n\nconst buttonCss = \":host{--width:auto;--spacing-x:var(--telekom-spacing-unit-x6);--spacing-x-icon-only:var(--telekom-spacing-unit-x2);--min-height:var(--telekom-spacing-unit-x10);--radius:var(--telekom-radius-standard);--transition:all var(--telekom-motion-duration-transition)\\n    var(--telekom-motion-easing-standard);--box-shadow-focus:0 0 0 var(--telekom-line-weight-highlight)\\n    var(--telekom-color-functional-focus);--font-weight:var(--telekom-typography-font-weight-bold);--font-size:var(--telekom-typography-font-size-body);--line-height:var(--telekom-typography-line-spacing-standard);--spacing-icon-x:var(--telekom-spacing-unit-x2);--vertical-align:middle;--font-size-small:var(--telekom-typography-font-size-small);--line-height-small:var(--telekom-typography-line-spacing-standard);--min-height-small:var(--telekom-spacing-unit-x8);--radius-primary:var(--radius);--background-primary:var(--telekom-color-primary-standard);--background-primary-hover:var(--telekom-color-primary-hovered);--background-primary-active:var(--telekom-color-primary-pressed);--background-primary-disabled:var(--telekom-color-ui-disabled);--color-primary:var(--telekom-color-text-and-icon-white-standard);--color-primary-disabled:var(--telekom-color-text-and-icon-disabled);--radius-secondary:var(--radius);--border-width-secondary:var(--telekom-spacing-unit-x025);--background-secondary:transparent;--color-secondary:var(--telekom-color-text-and-icon-standard);--color-secondary-hover:var(--telekom-color-text-and-icon-standard);--color-secondary-active:var(--telekom-color-text-and-icon-standard);--color-secondary-disabled:var(--telekom-color-text-and-icon-disabled);--background-secondary:var(--telekom-color-ui-state-fill-standard);--background-secondary-hover:var(--telekom-color-ui-state-fill-hovered);--background-secondary-active:var(--telekom-color-ui-state-fill-pressed);--background-secondary-disabled:none;--border-secondary:var(--telekom-color-ui-border-standard);--border-secondary-hover:var(--telekom-color-ui-border-hovered);--border-secondary-active:var(--telekom-color-ui-border-pressed);--border-secondary-focus:var(--telekom-color-functional-focus);--radius-ghost:var(--radius);--border-width-ghost:var(--telekom-spacing-unit-x025);--spacing-x-ghost:var(--telekom-spacing-unit-x2);--color-ghost:var(--telekom-color-text-and-icon-primary-standard);--color-ghost-hover:var(--telekom-color-text-and-icon-primary-hovered);--color-ghost-active:var(--telekom-color-text-and-icon-primary-pressed);--color-ghost-disabled:var(--telekom-color-text-and-icon-disabled);--background-ghost-hover:var(--telekom-color-ui-state-fill-hovered);--background-ghost-active:var(--telekom-color-ui-state-fill-pressed);display:inline-flex}.button{box-sizing:border-box;display:inline-flex;align-items:center;position:relative;border:0;outline:none;cursor:pointer;user-select:none;font-family:inherit;word-spacing:inherit;letter-spacing:inherit;justify-content:center;text-decoration:none;font-weight:var(--font-weight);font-size:var(--font-size);line-height:var(--line-height);min-height:var(--min-height);width:var(--width);padding-left:var(--spacing-x);padding-right:var(--spacing-x);vertical-align:var(--vertical-align);transition:var(--transition)}.button:not(.button--disabled):focus{box-shadow:var(--box-shadow-focus)}.button.button--icon-before ::slotted(*){margin-right:var(--spacing-icon-x)}.button.button--icon-after ::slotted(*){margin-left:var(--spacing-icon-x)}.button:after{top:0;left:0;width:100%;border:var(--telekom-spacing-unit-x025) solid transparent;height:100%;content:'';display:block;position:absolute;box-sizing:border-box;pointer-events:none;border-radius:var(--radius)}.button--size-small{font-size:var(--font-size-small);line-height:var(--line-height-small);min-height:var(--min-height-small)}.button--icon-only{padding-left:var(--spacing-x-icon-only);padding-right:var(--spacing-x-icon-only)}.button--disabled{cursor:not-allowed}.button--variant-primary{text-align:center;border-radius:var(--radius);background:var(--background-primary);color:var(--color-primary)}.button--variant-primary:not(.button--disabled):hover{background:var(--background-primary-hover)}.button--variant-primary:not(.button--disabled):active{background:var(--background-primary-active)}.button--disabled.button--variant-primary{background:var(--background-primary-disabled);color:var(--color-primary-disabled)}.button--variant-secondary{background:var(--background-secondary);text-align:center;border-radius:var(--radius-secondary);border:var(--border-width-secondary) solid currentColor;color:var(--color-secondary);background-color:var(--background-secondary);border-color:var(--border-secondary)}.button--variant-secondary:not(.button--disabled):hover{color:var(--color-secondary-hover);background-color:var(--background-secondary-hover);border-color:var(--border-secondary-hover)}.button--variant-secondary:not(.button--disabled):active{color:var(--color-secondary-active);background-color:var(--background-secondary-active);border-color:var(--border-secondary-active)}.button--disabled.button--variant-secondary{color:var(--color-secondary-disabled);background-color:var(--background-secondary-disabled)}.button--variant-ghost{background:transparent;text-align:center;border-radius:var(--radius-ghost);border:var(--border-width-ghost) solid transparent;color:var(--color-ghost);padding-left:var(--spacing-x-ghost);padding-right:var(--spacing-x-ghost)}.button--variant-ghost:not(.button--disabled):hover{color:var(--color-ghost-hover);background-color:var(--background-ghost-hover)}.button--variant-ghost:not(.button--disabled):active{color:var(--color-ghost-active);background-color:var(--background-ghost-active)}.button--disabled.button--variant-ghost{color:var(--color-ghost-disabled)}\";\n\nconst DEFAULT_ICON_SIZE = 24;\nconst buttonIconSizeMap = {\n  small: 16,\n  // large: 24,\n};\nconst Button = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    /** (optional) The size of the button */\n    this.size = 'large';\n    /** (optional) Button variant */\n    this.variant = 'primary';\n    /** (optional) If `true`, the button is disabled */\n    this.disabled = false;\n    /** (optional) Set to `true` when the button contains only an icon */\n    this.iconOnly = false;\n    /** (optional) Icon position related to the label */\n    this.iconPosition = 'before';\n    /** (optional) The target attribute for the <a> tag */\n    this.target = '_self';\n    /**\n     * Hack to make the button behave has expected when inside forms.\n     * @see https://github.com/ionic-team/ionic-framework/blob/master/core/src/components/button/button.tsx#L155-L175\n     */\n    this.handleClick = (ev) => {\n      // No need to check for `disabled` because disabled buttons won't emit clicks\n      if (hasShadowDom(this.hostElement)) {\n        const parentForm = this.hostElement.closest('form');\n        if (parentForm) {\n          ev.preventDefault();\n          const fakeButton = document.createElement('button');\n          if (this.type) {\n            fakeButton.type = this.type;\n          }\n          fakeButton.style.display = 'none';\n          parentForm.appendChild(fakeButton);\n          fakeButton.click();\n          fakeButton.remove();\n        }\n      }\n    };\n  }\n  /**\n   * Prevent clicks from being emitted from the host\n   * when the component is `disabled`.\n   */\n  handleHostClick(event) {\n    if (this.disabled === true) {\n      event.stopImmediatePropagation();\n    }\n  }\n  async setFocus() {\n    this.focusableElement.focus();\n  }\n  connectedCallback() {\n    this.setIconPositionProp();\n    this.appendEnterKeySubmitFallback();\n  }\n  componentDidLoad() {\n    this.setChildrenIconSize();\n  }\n  disconnectedCallback() {\n    this.cleanUpEnterKeySubmitFallback();\n  }\n  /**\n   * In order for forms to be submitted with the Enter key\n   * there has to be a `button` or an `input[type=\"submit\"]` in the form.\n   * Browsers do not take the <button> inside the Shadow DOM into account for this matter.\n   * So we carefully append an `input[type=\"submit\"]` to overcome this.\n   *\n   * @see https://stackoverflow.com/a/35235768\n   * @see https://github.com/telekom/scale/issues/859\n   */\n  appendEnterKeySubmitFallback() {\n    if (hasShadowDom(this.hostElement)) {\n      const parentForm = this.hostElement.closest('form');\n      if (parentForm == null) {\n        return;\n      }\n      const hasSubmitInputAlready = parentForm.querySelector('input[type=\"submit\"]') != null;\n      if (hasSubmitInputAlready) {\n        return;\n      }\n      this.fallbackSubmitInputElement = document.createElement('input');\n      this.fallbackSubmitInputElement.type = 'submit';\n      this.fallbackSubmitInputElement.hidden = true;\n      parentForm.appendChild(this.fallbackSubmitInputElement);\n    }\n  }\n  cleanUpEnterKeySubmitFallback() {\n    if (this.fallbackSubmitInputElement != null) {\n      try {\n        this.fallbackSubmitInputElement.remove();\n        this.fallbackSubmitInputElement = null;\n      }\n      catch (err) { }\n    }\n  }\n  /**\n   * Detect whether the last node is an element (not text).\n   * If so, it's probably an icon, so we set `iconPosition` to `after`.\n   */\n  setIconPositionProp() {\n    const nodes = Array.from(this.hostElement.childNodes).filter((node) => {\n      // ignore empty text nodes, which are probably due to formatting\n      return !(node.nodeType === 3 && node.nodeValue.trim() === '');\n    });\n    const lastNode = nodes.length > 1 ? nodes[nodes.length - 1] : null;\n    if (!this.iconOnly && lastNode && isScaleIcon(lastNode)) {\n      this.iconPosition = 'after';\n    }\n  }\n  /**\n   * Set any children icon's size according the button size.\n   */\n  setChildrenIconSize() {\n    if (this.size != null && buttonIconSizeMap[this.size] != null) {\n      const icons = Array.from(this.hostElement.children).filter(isScaleIcon);\n      icons.forEach((icon) => {\n        if (icon.size === DEFAULT_ICON_SIZE) {\n          icon.size = buttonIconSizeMap[this.size];\n        }\n      });\n    }\n  }\n  render() {\n    const basePart = classnames('base', this.variant && `variant-${this.variant}`, this.iconOnly && 'icon-only', !this.iconOnly && this.iconPosition, this.disabled && 'disabled');\n    return (h(Host, null, this.styles && h(\"style\", null, this.styles), this.href ? (h(\"a\", { ref: (el) => (this.focusableElement = el), class: this.getCssClassMap(), href: this.href, download: this.download, target: this.target, rel: this.target === '_blank' ? 'noopener noreferrer' : undefined, part: basePart, tabIndex: this.innerTabindex }, h(\"slot\", null))) : (h(\"button\", { ref: (el) => (this.focusableElement = el), class: this.getCssClassMap(), onClick: this.handleClick, disabled: this.disabled, type: this.type, part: basePart, tabIndex: this.innerTabindex, name: this.name, value: this.value }, h(\"slot\", null)))));\n  }\n  getCssClassMap() {\n    return classnames('button', this.size && `button--size-${this.size}`, this.variant && `button--variant-${this.variant}`, this.iconOnly && `button--icon-only`, !this.iconOnly &&\n      this.iconPosition &&\n      `button--icon-${this.iconPosition}`, this.disabled && !this.href && `button--disabled`);\n  }\n  get hostElement() { return getElement(this); }\n};\nButton.style = buttonCss;\n\nexport { Button as scale_button };\n"],"names":["buttonCss","DEFAULT_ICON_SIZE","buttonIconSizeMap","Button","__name","hostRef","registerInstance","ev","hasShadowDom","parentForm","fakeButton","event","nodes","node","lastNode","isScaleIcon","icon","basePart","classnames","h","Host","el","getElement"],"mappings":"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"}