{"version":3,"file":"scale-dropdown-select.entry.00cb3f2e.js","sources":["../../node_modules/@telekom/scale-components/dist/esm/scale-dropdown-select.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, a as Host, g as getElement } from './index-3408babe.js';\nimport { c as classnames } from './index-713f92a5.js';\nimport { s as statusNote } from './status-note-0089e9c9.js';\nimport { c as computePosition } from './floating-ui.dom.esm-07191aca.js';\nimport { e as emitEvent } from './utils-004d7b05.js';\n\nconst dropdownSelectCss = \":host{--font-weight:var(--telekom-typography-font-weight-bold);--height:var(--telekom-spacing-unit-x12);--color:var(--telekom-color-text-and-icon-standard);--color-disabled:var(--telekom-color-text-and-icon-disabled);--background-disabled:none;--background-hover:var(--telekom-color-ui-state-fill-hovered);--border:var(--telekom-spacing-unit-x025) solid\\n    var(--telekom-color-ui-border-standard);--border-color-hover:var(--telekom-color-ui-border-hovered);--border-color-focus:var(--telekom-color-ui-border-hovered);--border-color-disabled:var(--telekom-color-ui-border-disabled);--border-invalid:var(--telekom-spacing-unit-x05) solid\\n    var(--telekom-color-functional-danger-hovered);--box-shadow-focus:0 0 0 var(--telekom-line-weight-highlight)\\n    var(--telekom-color-functional-focus);--spacing-x:var(--telekom-spacing-unit-x3);--transition:all var(--telekom-motion-duration-transition)\\n    var(--telekom-motion-easing-standard);--radius:var(--telekom-radius-standard);--transition-combobox:var(--transition);--font-size-combobox:var(--telekom-typography-font-size-body);--background-combobox:var(--telekom-color-ui-state-fill-standard);--spacing-combobox:var(--telekom-spacing-unit-x3)\\n    var(--telekom-spacing-unit-x10) 0 calc(var(--spacing-x) - 1px);--transition-helper-text:var(--transition);--font-size-helper-text:var(--telekom-typography-font-size-small);--line-height-helper-text:var(--telekom-typography-line-spacing-standard);--color-helper-text:var(\\n    --telekom-color-text-and-icon-functional-informational\\n  );--color-helper-text-invalid:var(\\n    --telekom-color-text-and-icon-functional-danger\\n  );--spacing-y-meta:var(--telekom-spacing-unit-x1);--color-meta:var(--telekom-color-text-and-icon-standard);--height-icon:var(--telekom-spacing-unit-x6);--color-icon:var(--telekom-color-text-and-icon-standard);--color-icon-hover:var(--telekom-color-text-and-icon-standard);--color-icon-active:var(--telekom-color-text-and-icon-standard);--transition-icon:var(--transition);--color-label:var(--telekom-color-text-and-icon-additional);--z-index-label:var(--scl-z-index-10);--transition-label:var(--transition);--font-size-label:var(--telekom-typography-font-size-body);--font-weight-label:var(--telekom-typography-font-weight-medium);--font-size-label-focus:var(--telekom-typography-font-size-footnote);--font-weight-label-focus:var(--telekom-typography-font-weight-bold);--line-height-label-animated:var(--telekom-typography-font-size-small);--transform-label:translate(\\n    var(--spacing-x),\\n    calc((var(--telekom-spacing-unit-x12) - var(--font-size-label)) / 2)\\n  );--transform-label-animated:translate(\\n    var(--spacing-x),\\n    var(--telekom-spacing-unit-x2)\\n  );--background-listbox:var(--telekom-color-background-surface);--box-shadow-listbox:0 2px 4px 0 rgba(0, 0, 0, 0.1),\\n    0 4px 16px 0 rgba(0, 0, 0, 0.1);--max-height-listbox:300px;--z-index-listbox:99;--outline-color-option:var(--telekom-color-functional-focus)}[part='combobox-container'] *,[part='combobox-container'] *::before,[part='combobox-container'] *::after{box-sizing:border-box}[part='combobox-container']{display:block;position:relative}[part='combobox']{width:100%;height:var(--height);margin:0;display:flex;align-items:center;outline:none;padding:var(--spacing-combobox);z-index:1;box-sizing:border-box;transition:var(--transition-combobox);font-family:inherit;font-size:var(--font-size-combobox);border-radius:var(--radius);border:var(--border);white-space:nowrap;text-overflow:ellipsis;appearance:none;-webkit-appearance:none;background-color:var(--background-combobox);color:var(--color)}[part~='select']:not([part~='disabled']) [part='combobox']:hover~[part='icon']{color:var(--color-icon-hover)}[part~='select']:not([part~='disabled']) [part='combobox']:active~[part='icon']{color:var(--color-icon-active)}[part~='select']:not([part~='disabled']):not([part~='invalid']) [part='combobox']:hover{border-color:var(--border-color-hover);background-color:var(--background-hover)}[part~='select']:not([part~='disabled'])[part~='invalid'] [part='combobox']:hover{background-color:var(--background-hover)}[part~='select']:not([part~='disabled']):not([part~='invalid']) [part='combobox']:focus{border-color:var(--border-color-focus)}[part~='select']:not([part~='disabled']):not([part~='steal-focus']) [part='combobox']:focus{box-shadow:var(--box-shadow-focus)}[part~='invalid'] [part='combobox']{border:var(--border-invalid)}[part~='transparent'] [part='combobox']{background-color:transparent}[part~='disabled'] [part='combobox']{cursor:not-allowed;border-color:var(--border-color-disabled);color:var(--color-disabled);background:var(--background-disabled)}[part='helper-text']{font-weight:var(--font-weight);transition:var(--transition-helper-text);padding-left:var(--spacing-x);font-size:var(--font-size-helper-text);line-height:var(--line-height-helper-text);color:var(--color-helper-text)}[part~='invalid'] [part='helper-text']{color:var(--color-helper-text-invalid)}[part~='disabled'] [part='helper-text']{cursor:not-allowed;border-color:var(--border-color-disabled);color:var(--color-disabled);background:var(--background-disabled)}[part='meta']{display:flex;justify-content:space-between;margin-top:var(--spacing-y-meta);color:var(--color-meta)}[part='icon']{top:50%;right:var(--spacing-x);position:absolute;transform:translateY(-50%);pointer-events:none;height:var(--height-icon);color:var(--color-icon);transition:var(--transition-icon)}[part~='disabled'] [part='icon']{color:var(--color-disabled)}[part='label']{top:0;left:0;color:var(--color-label);display:flex;z-index:var(--z-index-label);position:absolute;transition:var(--transition-label);pointer-events:none;font-size:var(--font-size-label);transform:var(--transform-label);font-weight:var(--font-weight-label)}[part~='animated'] [part='label']{transform:var(--transform-label-animated);font-size:var(--font-size-label-focus);font-weight:var(--font-weight-label-focus);line-height:var(--line-height-label-animated)}[part~='disabled'] [part='label']{cursor:not-allowed;border-color:var(--border-color-disabled);color:var(--color-disabled);background:var(--background-disabled)}[part='listbox']{overflow-y:auto;position:relative;max-height:var(--max-height-listbox)}[part='listbox-pad']{background:var(--background-listbox);box-shadow:var(--box-shadow-listbox);border-radius:var(--radius);padding:var(--radius) 0;margin-top:var(--telekom-line-weight-highlight);left:0;position:absolute;top:100%;width:100%;z-index:var(--z-index-listbox);display:none}[part~='open'] [part='listbox-pad']{display:block}[part~='transparent'] [part='listbox']{background-color:transparent}[part~='option']{color:var(--color)}[part~='option']:hover{background-color:var(--background-hover)}[part~='option'][part~='current']{outline:3px solid var(--outline-color-option);outline-offset:-3px}[part~='option'][aria-selected='true']{padding-right:30px;position:relative}[part~='option'][aria-selected='true'] scale-icon-action-success{position:absolute;right:16px;top:12px}[part~='option'] scale-dropdown-select-item::part(base){padding:12px}\";\n\nvar Actions;\n(function (Actions) {\n  Actions[\"Close\"] = \"Close\";\n  Actions[\"CloseSelect\"] = \"CloseSelect\";\n  Actions[\"First\"] = \"First\";\n  Actions[\"Last\"] = \"Last\";\n  Actions[\"Next\"] = \"Next\";\n  Actions[\"Open\"] = \"Open\";\n  Actions[\"PageDown\"] = \"PageDown\";\n  Actions[\"PageUp\"] = \"PageUp\";\n  Actions[\"Previous\"] = \"Previous\";\n  Actions[\"Select\"] = \"Select\";\n  Actions[\"Type\"] = \"Type\";\n})(Actions || (Actions = {}));\nconst readOptions = (hostElement) => {\n  return Array.from(hostElement.children).map((x) => ({\n    label: x.textContent.trim(),\n    value: x.getAttribute('value'),\n    ItemElement: h(\"span\", { innerHTML: x.outerHTML }),\n  }));\n};\nfunction getActionFromKey(event, open) {\n  const { key, altKey, ctrlKey, metaKey } = event;\n  if (!open && ['ArrowDown', 'ArrowUp', 'Enter', ' '].includes(key)) {\n    return Actions['Open'];\n  }\n  if (key === 'Home') {\n    return Actions['First'];\n  }\n  if (key === 'End') {\n    return Actions['Last'];\n  }\n  if (['Backspace', 'Clear'].includes(key) ||\n    (key.length === 1 && key !== ' ' && !altKey && !ctrlKey && !metaKey)) {\n    return Actions['Type'];\n  }\n  if (!open) {\n    return;\n  }\n  if (key === 'ArrowUp' && altKey) {\n    return Actions['CloseSelect'];\n  }\n  if (key === 'ArrowDown' && !altKey) {\n    return Actions['Next'];\n  }\n  switch (key) {\n    case 'ArrowUp':\n      return Actions['Previous'];\n    case 'PageUp':\n      return Actions['PageUp'];\n    case 'PageDown':\n      return Actions['PageDown'];\n    case 'Escape':\n      return Actions['Close'];\n    case 'Enter':\n      return Actions['CloseSelect'];\n    case ' ':\n      return Actions['CloseSelect'];\n  }\n}\nfunction jumpToIndex(currentIndex, maxIndex, action) {\n  const JUMP_SIZE = 10;\n  switch (action) {\n    case Actions['First']:\n      return 0;\n    case Actions['Last']:\n      return maxIndex;\n    case Actions['Previous']:\n      return Math.max(0, currentIndex - 1);\n    case Actions['Next']:\n      return Math.min(maxIndex, currentIndex + 1);\n    case Actions['PageUp']:\n      return Math.max(0, currentIndex - JUMP_SIZE);\n    case Actions['PageDown']:\n      return Math.min(maxIndex, currentIndex + JUMP_SIZE);\n    default:\n      return currentIndex;\n  }\n}\nfunction matchOptions(options = [], filter) {\n  return options.filter((option) => option.toLowerCase().indexOf(filter.toLowerCase()) === 0);\n}\nfunction getIndexByChar(values, filter, startIndex = 0) {\n  const sortedValues = [\n    ...values.slice(startIndex),\n    ...values.slice(0, startIndex),\n  ];\n  const firstHit = matchOptions(sortedValues, filter)[0];\n  const allMatchingChars = (array) => array.every((char) => char === array[0]);\n  if (firstHit) {\n    return values.indexOf(firstHit);\n  }\n  if (allMatchingChars(filter.split(''))) {\n    const hits = matchOptions(sortedValues, filter[0]);\n    return values.indexOf(hits[0]);\n  }\n  return -1;\n}\nfunction keepInView(activeElement, scrollParent) {\n  const { offsetHeight, offsetTop } = activeElement;\n  const { offsetHeight: parentOffsetHeight, scrollTop } = scrollParent;\n  const isAboveParent = offsetTop < scrollTop;\n  const isBelowParent = offsetTop + offsetHeight > scrollTop + parentOffsetHeight;\n  if (isBelowParent) {\n    return (scrollParent.scrollTop =\n      offsetTop + offsetHeight - parentOffsetHeight);\n  }\n  if (isAboveParent) {\n    return (scrollParent.scrollTop = offsetTop);\n  }\n}\nfunction hasOverflow(element) {\n  return element && element.clientHeight < element.scrollHeight;\n}\nfunction isInView(element) {\n  const rect = element.getBoundingClientRect();\n  const parentRect = {\n    top: 0,\n    left: 0,\n    right: window.innerWidth || document.documentElement.clientWidth,\n    bottom: window.innerHeight || document.documentElement.clientHeight,\n  };\n  return (rect.top >= parentRect.top &&\n    rect.left >= parentRect.left &&\n    rect.bottom <= parentRect.bottom &&\n    rect.right <= parentRect.right);\n}\nconst DropdownSelect = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.scaleChange = createEvent(this, \"scale-change\", 7);\n    this.scaleFocus = createEvent(this, \"scale-focus\", 7);\n    this.scaleBlur = createEvent(this, \"scale-blur\", 7);\n    this.scaleKeydown = createEvent(this, \"scale-keydown\", 7);\n    this.comboboxId = 'combobox';\n    this.helperText = '';\n    this.invalid = false;\n    this.options = '';\n    this.open = false;\n    this.currentIndex = -1;\n    this.queryString = '';\n    this.queryTimeout = null;\n    this.ignoreBlur = false;\n    this.hasFocus = false;\n    this.selectOption = (index) => {\n      this.currentIndex = index;\n      this.value = readOptions(this.hostElement)[index].value;\n      emitEvent(this, 'scaleChange', { value: this.value });\n    };\n    this.handleKeyDown = (event) => {\n      const { key } = event;\n      const max = readOptions(this.hostElement).length - 1;\n      const action = getActionFromKey(event, this.open);\n      emitEvent(this, 'scaleKeydown', event);\n      switch (action) {\n        case Actions['Last']:\n        case Actions['First']:\n          this.setOpen(true);\n        case Actions['Next']:\n        case Actions['Previous']:\n        case Actions['PageUp']:\n        case Actions['PageDown']:\n          event.preventDefault();\n          return this.handleOptionChange(jumpToIndex(this.currentIndex, max, action));\n        case Actions['CloseSelect']:\n          event.preventDefault();\n          this.selectOption(this.currentIndex);\n        case Actions['Close']:\n          event.preventDefault();\n          return this.setOpen(false);\n        case Actions['Type']:\n          return this.buildQueryString(key);\n        case Actions['Open']:\n          event.preventDefault();\n          return this.setOpen(true);\n      }\n    };\n    this.handleBlur = () => {\n      if (this.ignoreBlur) {\n        this.ignoreBlur = false;\n        return;\n      }\n      this.setOpen(false);\n      emitEvent(this, 'scaleBlur');\n    };\n    this.handleFocus = () => {\n      emitEvent(this, 'scaleFocus');\n    };\n    this.handleClick = () => {\n      this.setOpen(!this.open);\n      const indexOfValue = readOptions(this.hostElement).findIndex(({ value }) => value === this.value);\n      if (indexOfValue > -1) {\n        setTimeout(() => {\n          this.bringIntoView(indexOfValue);\n        });\n      }\n    };\n  }\n  valueChange(newValue) {\n    this.currentIndex = readOptions(this.hostElement).findIndex(({ value }) => value === newValue);\n  }\n  connectedCallback() {\n    statusNote({ source: this.hostElement, tag: 'beta' });\n    this.currentIndex =\n      readOptions(this.hostElement).findIndex(({ value }) => value === this.value) || -1;\n  }\n  componentDidRender() {\n    if (!this.open) {\n      return;\n    }\n    computePosition(this.comboEl, this.listboxPadEl, {\n      placement: 'bottom',\n    }).then(({ x, y }) => {\n      Object.assign(this.listboxPadEl.style, {\n        left: `${x}px`,\n        top: `${y}px`,\n      });\n    });\n  }\n  handleOptionChange(index) {\n    this.currentIndex = index;\n    this.bringIntoView(index);\n  }\n  bringIntoView(index) {\n    const options = this.listboxEl.querySelectorAll('[role=option]');\n    if (hasOverflow(this.listboxEl)) {\n      keepInView(options[index], this.listboxEl);\n    }\n    if (!isInView(options[index])) {\n      options[index].scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n    }\n  }\n  setOpen(open) {\n    if (this.open === open) {\n      return;\n    }\n    if (this.disabled) {\n      return;\n    }\n    this.open = open;\n    if (!this.open) {\n      this.comboEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n      this.comboEl.focus();\n      this.currentIndex = -1;\n    }\n  }\n  handleOptionClick(event, index) {\n    event.stopPropagation();\n    this.handleOptionChange(index);\n    this.selectOption(index);\n    this.setOpen(false);\n  }\n  getSearchString(char) {\n    if (typeof this.queryTimeout === 'number') {\n      window.clearTimeout(this.queryTimeout);\n    }\n    this.queryTimeout = window.setTimeout(() => {\n      this.queryString = '';\n    }, 500);\n    this.queryString += char;\n    return this.queryString;\n  }\n  buildQueryString(char) {\n    this.setOpen(true);\n    const queryString = this.getSearchString(char);\n    const queryIndex = getIndexByChar(readOptions(this.hostElement).map(({ label }) => label), queryString, this.currentIndex + 1);\n    if (queryIndex >= 0) {\n      this.handleOptionChange(queryIndex);\n    }\n    else {\n      window.clearTimeout(this.queryTimeout);\n      this.queryString = '';\n    }\n  }\n  render() {\n    const ValueElement = (readOptions(this.hostElement).find(({ value }) => value === this.value) ||\n      {}).ItemElement;\n    const helperTextId = `helper-message`;\n    const ariaDescribedByAttr = { 'aria-describedBy': helperTextId };\n    return (h(Host, null, h(\"div\", { part: this.getBasePartMap() }, h(\"div\", { part: \"combobox-container\" }, h(\"label\", { id: `${this.comboboxId}-label`, part: \"label\" }, this.label), h(\"div\", Object.assign({ ref: (el) => (this.comboEl = el), \"aria-controls\": `${this.comboboxId}-listbox`, \"aria-expanded\": this.open ? 'true' : 'false', \"aria-haspopup\": \"listbox\", \"aria-labelledby\": `${this.comboboxId}-label`, id: this.comboboxId, part: \"combobox\", role: \"combobox\", tabindex: \"0\", onBlur: this.handleBlur, onFocus: this.handleFocus, onClick: this.handleClick, onKeyDown: this.handleKeyDown }, (this.open\n      ? {\n        'aria-activedescendant': (readOptions(this.hostElement)[this.currentIndex] ||\n          {}).value,\n      }\n      : {}), (this.helperText ? ariaDescribedByAttr : {}), (this.invalid ? { 'aria-invalid': 'true' } : {})), ValueElement), h(\"div\", { part: \"listbox-pad\", ref: (el) => (this.listboxPadEl = el) }, h(\"div\", { ref: (el) => (this.listboxEl = el), part: \"listbox\", role: \"listbox\", id: `${this.comboboxId}-listbox`, \"aria-labelledby\": `${this.comboboxId}-label`, tabindex: \"-1\" }, readOptions(this.hostElement).map(({ value, ItemElement }, index) => (h(\"div\", Object.assign({ role: \"option\", part: `option${index === this.currentIndex ? ' current' : ''}`, id: value, onClick: (event) => {\n        this.handleOptionClick(event, index);\n      }, onMouseDown: () => {\n        this.ignoreBlur = true;\n      } }, (value === this.value\n      ? { 'aria-selected': 'true' }\n      : {})), ItemElement, value === this.value ? (h(\"scale-icon-action-success\", { size: 16 })) : null))))), h(\"div\", { part: \"icon\" }, this.open ? (h(\"scale-icon-navigation-collapse-up\", { decorative: true })) : (h(\"scale-icon-navigation-collapse-down\", { decorative: true })))), !!this.helperText && (h(\"div\", { part: \"meta\", id: helperTextId, \"aria-live\": \"polite\", \"aria-relevant\": \"additions removals\" }, !!this.helperText && (h(\"div\", { part: \"helper-text\" }, this.helperText)))))));\n  }\n  getBasePartMap() {\n    const animated = this.value != null && this.value !== '';\n    return classnames('select', this.open && `open`, this.disabled && `disabled`, this.readonly && `readonly`, this.transparent && 'transparent', this.invalid && `invalid`, this.currentIndex > -1 && `steal-focus`, animated && 'animated');\n  }\n  get hostElement() { return getElement(this); }\n  static get watchers() { return {\n    \"value\": [\"valueChange\"]\n  }; }\n};\nDropdownSelect.style = dropdownSelectCss;\n\nexport { DropdownSelect as scale_dropdown_select };\n"],"names":["dropdownSelectCss","Actions","readOptions","__name","hostElement","x","h","getActionFromKey","event","open","key","altKey","ctrlKey","metaKey","jumpToIndex","currentIndex","maxIndex","action","matchOptions","options","filter","option","getIndexByChar","values","startIndex","sortedValues","firstHit","allMatchingChars","array","char","hits","keepInView","activeElement","scrollParent","offsetHeight","offsetTop","parentOffsetHeight","scrollTop","isAboveParent","hasOverflow","element","isInView","rect","parentRect","DropdownSelect","hostRef","registerInstance","createEvent","index","emitEvent","max","indexOfValue","value","newValue","statusNote","computePosition","y","queryString","queryIndex","label","ValueElement","helperTextId","ariaDescribedByAttr","Host","el","ItemElement","animated","classnames","getElement"],"mappings":"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"}